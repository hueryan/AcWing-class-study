# shell语法
1. [概论](./3Shell内容/1.概论.md) 
2. [注释](./3Shell内容/2.注释.md) 
3. [变量](./3Shell内容/3.变量.md) 
4. [默认变量](./3Shell内容/4.默认变量.md) 
5. [数组](./3Shell内容/5.数组.md) 
6. [expr命令](./3Shell内容/6.expr命令.md) 
7. [read命令](./3Shell内容/7.read命令.md) 
8. [echo命令](./3Shell内容/8.echo命令.md) 
9. [printf命令](./3Shell内容/9.printf命令.md) 
10. [test命令与判断符号[]](./3Shell内容/10.test命令与判断符号[].md) 
11. [判断语句](./3Shell内容/11.判断语句.md) 
12. [循环语句](./3Shell内容/12.循环语句.md) 
13. [函数](./3Shell内容/13.函数.md) 
14. [exit命令](./3Shell内容/14.exit命令.md) 
15. [文件重定向](./3Shell内容/15.文件重定向.md) 
16. [引入外部脚本](./3Shell内容/16.引入外部脚本.md) 

# 作业

(0) 进入homework_0文件夹，编写自动完成lesson_1作业的脚本helper.sh。要求：

```sh
   [1] 当前目录下仅包含helper.sh
    [2] helper.sh具有可执行权限
    [3] 在任意路径依次执行下列命令后，lesson_1的作业可以得到满分：
        1) homework 1 create
        2) /home/acs/homework/lesson_3/homework_0/helper.sh
```

```sh
#! /bin/bash

homework 1 create

cd ~/homework/lesson_1

# 0
cd homework_0
mkdir dir_a dir_b dir_c

# 1
cd ../homework_1
for var in *.txt
do
    cp "${var}" "${var}.bak"
done

# 2
cd ../homework_2
for i in {a..c}
do
    mv "${i}".txt "${i}"_new.txt
done

# 3
cd ../homework_3
mv dir_a/* dir_b
# 4
cd ../homework_4
rm *.txt

# 5
cd ../homework_5
rm -fr *

# 6
cd ../homework_6
mv task.txt done.txt
mkdir dir_a
mv done.txt dir_a

# 7
cd ../homework_7
for i in 0 1 2
do
    mkdir dir_${i}
    for j in a b c
    do
    	cp ${j}.txt dir_${i}/${j}${i}.txt
    done
done

# 8
cd ../homework_8
rm dir_a/a.txt
mv dir_b/b.txt dir_b/b_new.txt
cp dir_c/c.txt dir_c/c.txt.bak

# 9
cd ../homework_9
rm *.txt

echo `homework 1 test`
```



(1) 进入homework_1文件夹，编写脚本check_file.sh。要求：

```sh
    [1] 当前目录下仅包含check_file.sh。
    [2] check_file.sh具有可执行权限。
    [3] check_file.sh接收一个传入参数。格式为 ./check_file.sh file
    [4] 判断传递参数，分别在标准输出中输出如下内容（不包括双引号）：
        1) 如果传入参数个数不是1，则输出一行："arguments not valid"，然后退出，退出状态等于1。
        2) 如果file文件不存在，则输出一行："not exist"，然后退出，退出状态等于2。
        3) 如果file文件存在，则输出分别进行如下5个判断，然后退出，退出状态等于0。
            1] 如果file为普通文件，则输出一行："regular file"
            2] 如果file为目录（文件夹），则输出一行："directory"
            3] 如果file具有可读权限，则输出一行："readable"
            4] 如果file具有可写权限，则输出一行："writable"
            5] 如果file具有可执行权限，则输出一行："executable"
```

```sh
#! /bin/bash

if [ "$#" -ne 1 ]
then
	echo arguments not valid
	exit 1
fi

if [ ! -e "$1" ]
then
	echo not exist
	exit 2
fi

if [ -f "$1" ]
then
	echo regular file
fi

if [ -d "$1" ]
then
	echo directory
fi

if [ -r "$1" ]
then
	echo readable
fi

if [ -w "$1" ]
then
	echo writable
fi

if [ -x "$1" ]
then
	echo executable
fi
```

(2) 进入homework_2文件夹，编写脚本main.sh。要求：

```sh
    [1] 当前目录下仅包含main.sh
    [2] main.sh具有可执行权限
    [3] 该文件从stdin(标准输入)中读取一个整数n
    [4] 在stdout(标准输出)输出斐波那契数列的第n项。即：a[0] = 1, a[1] = 1, a[i] = a[i - 1] + a[i - 2], 求a[n]。
    [5] 数据保证 0 <= n <= 20，脚本不需要判断n的合法性。
```

```sh
#! /bin/bash

read n

a[0]=1
a[1]=1

for ((i=2; i<=n; i++))
do
	x=$(expr $i - 1)
	y=$(expr $i - 2)
	a[$i]=$(expr ${a[$x]} + ${a[$y]})
done

echo ${a[$n]}
```



(3) 进入homework_3文件夹，编写脚本main.sh。要求：

```sh
 [1] 当前目录下仅包含main.sh
    [2] main.sh具有可执行权限
    [3] 该文件从stdin(标准输入)中读取两行整数n和m
    [4] 在stdout(标准输出)中输出1~n的按字典序从小到大的顺序数第m个全排列，输出一行，用空格隔开所有数，行末可以有多余空格。
    [5] 数据保证 1 <= n <= 10, 1 <= m <= min(100, n!)，脚本不需要判断数据的合法性。
```

```sh
#! /bin/bash

read n
read m

for ((i = 1; i <= n; i ++ ))
do
    st[$i]=0
done

dfs() {
    if [ $1 -eq $n ]
    then
        m=`expr $m - 1`
        if [ $m -eq 0 ] 
        then
            echo ${path[@]}
            return 0
        fi
        return 1
    fi  

    local j=0
    for ((j = 1; j <= n; j ++ ))
    do  
        if [ ${st[$j]} -eq 0 ] 
        then
            path[$1]=$j
            st[$j]=1

            if dfs `expr $1 + 1`
            then
                return 0
            fi

            st[$j]=0
        fi
    done

    return 1
}

dfs 0
```

(4) 进入homework_4文件夹，编写脚本main.sh。要求:

```sh
    [1] 当前目录下仅包含main.sh
    [2] main.sh具有可执行权限
    [3] main.sh接收两个传入参数。格式为 ./main.sh input_file output_file
    [4] 从input_file中读取一个正整数n，然后将前n个正整数的平方和写入output_file中
    [5] 数据保证 1 <= n <= 100，脚本不需要判断所有数据的合法性。
```

```sh
#! /bin/bash

read n < $1
sum=0
for ((i=1; i<=n; i++))
do
	# sqr=`expr $i \* $i`
	sum=`expr $i \* $i + $sum`
	# sum=`expr $sum + $sqr`
done
echo $sum > $2
```
